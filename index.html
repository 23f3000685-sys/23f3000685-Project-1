<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Captcha Solver</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>
  <div class="container">
    <h1>Captcha Solver</h1>
    <img id="captcha" src="" alt="Captcha Image">
    <p id="solution">Solving...</p>
  </div>
</body>
<head>
  <meta charset="UTF-8">
  <title>Evaluator JSON Preview</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Evaluator JSON Preview</h1>
    <pre id="jsonOutput"></pre>
  </div>
  <script>
    // Use current site URL to dynamically determine repo and pages URL
    const hostParts = window.location.host.split('.');
    const username = hostParts[0];
    const repoPath = window.location.pathname.split('/')[1]; // first folder in path
    const pagesURL = `https://${username}.github.io/${repoPath}/`;
    // Default values
    const defaults = {
      email: "23f3000685@ds.study.iitm.ac.in",
      task: repoPath || "captcha-solver-23f3000685",
      round: 1,
      nonce: "ab12-...",
      repo_url: `https://github.com/${username}/${repoPath}`,
      commit_sha: "latest",
      pages_url: pagesURL
    };
    // Read query parameters
    const params = new URLSearchParams(window.location.search);
    // Build dynamic payload
    const payload = {
      email: params.get("email") || defaults.email,
      task: params.get("task") || defaults.task,
      round: parseInt(params.get("round")) || defaults.round,
      nonce: params.get("nonce") || defaults.nonce,
      repo_url: params.get("repo_url") || defaults.repo_url,
      commit_sha: params.get("commit_sha") || defaults.commit_sha,
      pages_url: params.get("pages_url") || defaults.pages_url
    };
    // Display JSON
    document.getElementById("jsonOutput").textContent = JSON.stringify(payload, null, 2);
  </script>
</body>
</html>
